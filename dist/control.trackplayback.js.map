{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external {\"root\":\"L\",\"commonjs\":\"leaflet\",\"commonjs2\":\"leaflet\",\"amd\":\"leaflet\"}","webpack:///./src/control.trackplayback/control.playback.js","webpack:///./src/control.trackplayback/index.js"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TrackPlayBackControl","Control","extend","options","position","showOptions","showInfo","showSlider","autoPlay","initialize","trackplayback","this","trackPlayBack","on","_tickCallback","onAdd","map","_initContainer","_container","onRemove","dispose","off","getTimeStrFromUnix","time","accuracy","parseInt","newDate","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minuts","getMinutes","seconds","getSeconds","ret","DomUtil","DomEvent","disableClickPropagation","_optionsContainer","_createContainer","_buttonContainer","_infoContainer","_sliderContainer","_pointCbx","_createCheckbox","_showTrackPoint","_lineCbx","_showTrackLine","_playBtn","_createButton","_play","_restartBtn","_restart","_slowSpeedBtn","_slow","_quickSpeedBtn","_quick","_closeBtn","_close","_infoStartTime","_createInfo","getStartTime","_infoEndTime","getEndTime","_infoCurTime","getCurTime","_infoSpeedRatio","getSpeed","_slider","_createSlider","_scrollchange","className","container","labelName","fn","divEle","inputEle","inputId","Util","stamp","setAttribute","labelEle","innerHTML","title","link","href","info","infoContainer","infoEle","sliderEle","stopPropagation","preventDefault","e","target","checked","showTrackPoint","hideTrackPoint","showTrackLine","hideTrackLine","hasClass","removeClass","addClass","start","stop","rePlaying","slowSpeed","sp","quickSpeed","remove","_map","val","Number","setCursor","trackplaybackcontrol"],"mappings":"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","file":"control.trackplayback.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"leaflet\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"leaflet\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"leaflet\")) : factory(root[\"L\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import L from 'leaflet'\r\n\r\nexport const TrackPlayBackControl = L.Control.extend({\r\n\r\n  options: {\r\n    position: 'topright',\r\n    showOptions: true,\r\n    showInfo: true,\r\n    showSlider: true,\r\n    autoPlay: false\r\n  },\r\n\r\n  initialize: function (trackplayback, options) {\r\n    L.Control.prototype.initialize.call(this, options)\r\n    this.trackPlayBack = trackplayback\r\n    this.trackPlayBack.on('tick', this._tickCallback, this)\r\n  },\r\n\r\n  onAdd: function (map) {\r\n    this._initContainer()\r\n    return this._container\r\n  },\r\n\r\n  onRemove: function (map) {\r\n    this.trackPlayBack.dispose()\r\n    this.trackPlayBack.off('tick', this._tickCallback, this)\r\n  },\r\n\r\n  /**\r\n     * Obtain the time string according to the unix timestamp (unit: second)\r\n     * @param {[int]} time [time stamp (accurate to the second)]\r\n     * @param {[string]} accuracy [accuracy, day: d, hour: h, minute: m, second: s]\r\n     * @return {[string]} [yy:mm:dd hh:mm:ss]\r\n     */\r\n  getTimeStrFromUnix: function (time, accuracy = 's') {\r\n    time = parseInt(time * 1000)\r\n    const newDate = new Date(time)\r\n    const year = newDate.getFullYear()\r\n    const month = (newDate.getMonth() + 1) < 10 ? '0' + (newDate.getMonth() + 1) : newDate.getMonth() + 1\r\n    const day = newDate.getDate() < 10 ? '0' + newDate.getDate() : newDate.getDate()\r\n    const hours = newDate.getHours() < 10 ? '0' + newDate.getHours() : newDate.getHours()\r\n    const minuts = newDate.getMinutes() < 10 ? '0' + newDate.getMinutes() : newDate.getMinutes()\r\n    const seconds = newDate.getSeconds() < 10 ? '0' + newDate.getSeconds() : newDate.getSeconds()\r\n    let ret\r\n    if (accuracy === 'd') {\r\n      ret = year + '-' + month + '-' + day\r\n    } else if (accuracy === 'h') {\r\n      ret = year + '-' + month + '-' + day + ' ' + hours\r\n    } else if (accuracy === 'm') {\r\n      ret = year + '-' + month + '-' + day + ' ' + hours + ':' + minuts\r\n    } else {\r\n      ret = year + '-' + month + '-' + day + ' ' + hours + ':' + minuts + ':' + seconds\r\n    }\r\n    return ret\r\n  },\r\n\r\n  _initContainer: function () {\r\n    var className = 'leaflet-control-playback'\r\n    this._container = L.DomUtil.create('div', className)\r\n    L.DomEvent.disableClickPropagation(this._container)\r\n\r\n    this._optionsContainer = this._createContainer('optionsContainer', this._container)\r\n    this._buttonContainer = this._createContainer('buttonContainer', this._container)\r\n    this._infoContainer = this._createContainer('infoContainer', this._container)\r\n    this._sliderContainer = this._createContainer('sliderContainer', this._container)\r\n\r\n    this._pointCbx = this._createCheckbox('show trackPoint', 'show-trackpoint', this._optionsContainer, this._showTrackPoint)\r\n    this._lineCbx = this._createCheckbox('show trackLine', 'show-trackLine', this._optionsContainer, this._showTrackLine)\r\n\r\n    this._playBtn = this._createButton('play', 'btn-stop', this._buttonContainer, this._play)\r\n    this._restartBtn = this._createButton('replay', 'btn-restart', this._buttonContainer, this._restart)\r\n    this._slowSpeedBtn = this._createButton('slow', 'btn-slow', this._buttonContainer, this._slow)\r\n    this._quickSpeedBtn = this._createButton('quick', 'btn-quick', this._buttonContainer, this._quick)\r\n    this._closeBtn = this._createButton('close', 'btn-close', this._buttonContainer, this._close)\r\n\r\n    this._infoStartTime = this._createInfo('startTime: ', this.getTimeStrFromUnix(this.trackPlayBack.getStartTime()), 'info-start-time', this._infoContainer)\r\n    this._infoEndTime = this._createInfo('endTime: ', this.getTimeStrFromUnix(this.trackPlayBack.getEndTime()), 'info-end-time', this._infoContainer)\r\n    this._infoCurTime = this._createInfo('curTime: ', this.getTimeStrFromUnix(this.trackPlayBack.getCurTime()), 'info-cur-time', this._infoContainer)\r\n    this._infoSpeedRatio = this._createInfo('speed: ', `X${this.trackPlayBack.getSpeed()}`, 'info-speed-ratio', this._infoContainer)\r\n\r\n    this._slider = this._createSlider('time-slider', this._sliderContainer, this._scrollchange)\r\n\r\n    return this._container\r\n  },\r\n\r\n  _createContainer: function (className, container) {\r\n    return L.DomUtil.create('div', className, container)\r\n  },\r\n\r\n  _createCheckbox: function (labelName, className, container, fn) {\r\n    const divEle = L.DomUtil.create('div', className + ' trackplayback-checkbox', container)\r\n\r\n    const inputEle = L.DomUtil.create('input', 'trackplayback-input', divEle)\r\n    const inputId = `trackplayback-input-${L.Util.stamp(inputEle)}`\r\n    inputEle.setAttribute('type', 'checkbox')\r\n    inputEle.setAttribute('id', inputId)\r\n\r\n    const labelEle = L.DomUtil.create('label', 'trackplayback-label', divEle)\r\n    labelEle.setAttribute('for', inputId)\r\n    labelEle.innerHTML = labelName\r\n\r\n    L.DomEvent.on(inputEle, 'change', fn, this)\r\n\r\n    return divEle\r\n  },\r\n\r\n  _createButton: function (title, className, container, fn) {\r\n    const link = L.DomUtil.create('a', className, container)\r\n    link.href = '#'\r\n    link.title = title\r\n\r\n    /*\r\n         * Will force screen readers like VoiceOver to read this as \"Zoom in - button\"\r\n         */\r\n    link.setAttribute('role', 'button')\r\n    link.setAttribute('aria-label', title)\r\n\r\n    L.DomEvent.disableClickPropagation(link)\r\n    L.DomEvent.on(link, 'click', fn, this)\r\n\r\n    return link\r\n  },\r\n\r\n  _createInfo: function (title, info, className, container) {\r\n    const infoContainer = L.DomUtil.create('div', 'info-container', container)\r\n    const infoTitle = L.DomUtil.create('span', 'info-title', infoContainer)\r\n    infoTitle.innerHTML = title\r\n    const infoEle = L.DomUtil.create('span', className, infoContainer)\r\n    infoEle.innerHTML = info\r\n    return infoEle\r\n  },\r\n\r\n  _createSlider: function (className, container, fn) {\r\n    const sliderEle = L.DomUtil.create('input', className, container)\r\n    sliderEle.setAttribute('type', 'range')\r\n    sliderEle.setAttribute('min', this.trackPlayBack.getStartTime())\r\n    sliderEle.setAttribute('max', this.trackPlayBack.getEndTime())\r\n    sliderEle.setAttribute('value', this.trackPlayBack.getCurTime())\r\n\r\n    L.DomEvent.on(sliderEle, 'click mousedown dbclick', L.DomEvent.stopPropagation)\r\n      .on(sliderEle, 'click', L.DomEvent.preventDefault)\r\n      .on(sliderEle, 'change', fn, this)\r\n      .on(sliderEle, 'mousemove', fn, this)\r\n\r\n    return sliderEle\r\n  },\r\n\r\n  _showTrackPoint (e) {\r\n    if (e.target.checked) {\r\n      this.trackPlayBack.showTrackPoint()\r\n    } else {\r\n      this.trackPlayBack.hideTrackPoint()\r\n    }\r\n  },\r\n\r\n  _showTrackLine (e) {\r\n    if (e.target.checked) {\r\n      this.trackPlayBack.showTrackLine()\r\n    } else {\r\n      this.trackPlayBack.hideTrackLine()\r\n    }\r\n  },\r\n\r\n  _play: function () {\r\n    const hasClass = L.DomUtil.hasClass(this._playBtn, 'btn-stop')\r\n    if (hasClass) {\r\n      L.DomUtil.removeClass(this._playBtn, 'btn-stop')\r\n      L.DomUtil.addClass(this._playBtn, 'btn-start')\r\n      this._playBtn.setAttribute('title', 'stop')\r\n      this.trackPlayBack.start()\r\n    } else {\r\n      L.DomUtil.removeClass(this._playBtn, 'btn-start')\r\n      L.DomUtil.addClass(this._playBtn, 'btn-stop')\r\n      this._playBtn.setAttribute('title', 'play')\r\n      this.trackPlayBack.stop()\r\n    }\r\n  },\r\n\r\n  _restart: function () {\r\n    // start playing and change the play button style\r\n    L.DomUtil.removeClass(this._playBtn, 'btn-stop')\r\n    L.DomUtil.addClass(this._playBtn, 'btn-start')\r\n    this._playBtn.setAttribute('title', 'stop')\r\n    this.trackPlayBack.rePlaying()\r\n  },\r\n\r\n  _slow: function () {\r\n    this.trackPlayBack.slowSpeed()\r\n    const sp = this.trackPlayBack.getSpeed()\r\n    this._infoSpeedRatio.innerHTML = `X${sp}`\r\n  },\r\n\r\n  _quick: function () {\r\n    this.trackPlayBack.quickSpeed()\r\n    const sp = this.trackPlayBack.getSpeed()\r\n    this._infoSpeedRatio.innerHTML = `X${sp}`\r\n  },\r\n\r\n  _close: function () {\r\n    L.DomUtil.remove(this._container)\r\n    if (this.onRemove) {\r\n      this.onRemove(this._map)\r\n    }\r\n    return this\r\n  },\r\n\r\n  _scrollchange: function (e) {\r\n    const val = Number(e.target.value)\r\n    this.trackPlayBack.setCursor(val)\r\n  },\r\n\r\n  _tickCallback: function (e) {\r\n    // update time\r\n    const time = this.getTimeStrFromUnix(e.time)\r\n    this._infoCurTime.innerHTML = time\r\n    // update timeline\r\n    this._slider.value = e.time\r\n    // Change the play button style after playing\r\n    if (e.time >= this.trackPlayBack.getEndTime()) {\r\n      L.DomUtil.removeClass(this._playBtn, 'btn-start')\r\n      L.DomUtil.addClass(this._playBtn, 'btn-stop')\r\n      this._playBtn.setAttribute('title', 'play')\r\n      this.trackPlayBack.stop()\r\n    }\r\n  }\r\n})\r\n\r\nexport const trackplaybackcontrol = function (trackplayback, options) {\r\n  return new TrackPlayBackControl(trackplayback, options)\r\n}\n","import L from 'leaflet'\r\nimport {\r\n  TrackPlayBackControl,\r\n  trackplaybackcontrol\r\n} from './control.playback'\r\n\r\nL.TrackPlayBackControl = TrackPlayBackControl\r\nL.trackplaybackcontrol = trackplaybackcontrol\r\n"],"sourceRoot":""}